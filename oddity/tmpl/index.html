<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{.Meta.Title}}</title>
    <meta name="description" content="{{.Meta.Description}}">
    {{if .Meta.Keywords}}<meta name="keywords" content="{{range $i, $k := .Meta.Keywords}}{{if $i}}, {{end}}{{$k}}{{end}}">{{end}}
    {{if .Meta.Author}}<meta name="author" content="{{.Meta.Author}}">{{end}}
    {{if .Meta.CanonicalURL}}<link rel="canonical" href="{{.Meta.CanonicalURL}}">{{end}}
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'mono': ['JetBrains Mono', 'monospace'],
                    }
                }
            }
        }
    </script>
</head>
<body class="font-mono bg-white min-h-screen">
    <!-- Navigation Bar -->
    <div class="py-1 border-b-0 border-gray-100">
        <div class="max-w-4xl mx-auto px-2 pt-2 flex flex-col lg:flex-row items-center justify-between gap-2 lg:gap-0">
            <!-- Left: Site Title -->
            <div class="flex gap-1 flex-wrap justify-center lg:justify-start">
                <a href="/" class="text-gray-900 text-sm font-semibold px-1 py-1 rounded hover:bg-gray-100 transition-colors">
                    {{.Site.Title}}
                </a>
            </div>

            <!-- Right: Navigation Links -->
            {{if .Site.Navigation}}
            <div class="flex gap-1 justify-center">
                {{range .Site.Navigation}}
                <a href="{{.URL}}" 
                   {{if .IsExternal}}target="_blank" rel="noopener noreferrer"{{end}}
                   class="text-gray-600 text-xs px-2 py-1 rounded hover:bg-gray-100 hover:text-gray-900 transition-colors{{if .IsActive}} bg-blue-600 text-white hover:bg-blue-700 hover:text-white{{end}}">
                    {{.Name}}
                </a>
                {{end}}
            </div>
            {{end}}
        </div>
    </div>

    <!-- Main Content -->
    <div class="max-w-4xl mx-auto px-4 py-8">
        <header class="mb-8 pb-4">
            <h1 class="text-2xl font-bold text-gray-900 mb-3">{{.Meta.Title}}</h1>
        </header>
        <!-- About Section -->
        <div class="mb-12">
            <div class="prose prose-sm max-w-none font-mono text-sm leading-relaxed">
                {{.PageHTML}}
            </div>
        </div>

        <!-- Posts Section -->
        {{ if .Posts }}
        <div>
            <h2 class="text-lg font-semibold text-gray-900 mb-4 uppercase tracking-wider">Recent Posts</h2>
            <div class="space-y-1">
                {{range .Posts}}
                <div class="flex items-center justify-between">
                    <a href="/{{.Slug}}" class="text-gray-900 hover:text-blue-600 transition-colors flex-1">
                        {{.Title}}
                    </a>
                    <time class="text-xs text-gray-500 ml-4">
                        {{.Date.Format "2006-01-02"}}
                    </time>
                </div>
                {{end}}
            </div>
        </div>
        {{end}}

        <!-- Footer -->
        <div class="mt-16 pt-8 border-t border-gray-100 text-center">
            <p class="text-xs text-gray-500">
                Powered by <a href="https://github.com/your-repo/oddity" class="hover:text-gray-700">Oddity</a>
            </p>
        </div>
    </div>

    <style>
        /* Blog-specific prose styles */
        .prose {
            color: #374151;
        }
        .prose h1 {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: #111827;
        }
        .prose h2 {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 0.75rem;
            margin-top: 1.5rem;
            color: #111827;
        }
        .prose h3 {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            margin-top: 1.25rem;
            color: #111827;
        }
        .prose p {
            margin-bottom: 1rem;
            line-height: 1.75;
        }
        .prose a {
            color: #2563eb;
            text-decoration: none;
        }
        .prose a:hover {
            text-decoration: underline;
        }
        .prose code {
            background-color: #f3f4f6;
            padding: 0.125rem 0.25rem;
            border-radius: 0.25rem;
            font-size: 0.875em;
        }
        .prose pre {
            background-color: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: 0.375rem;
            padding: 1rem;
            overflow-x: auto;
            margin: 1rem 0;
        }
        .prose blockquote {
            border-left: 4px solid #e5e7eb;
            padding-left: 1rem;
            margin: 1rem 0;
            font-style: italic;
            color: #6b7280;
        }
        .prose ul, .prose ol {
            margin: 1rem 0;
            padding-left: 1.5rem;
        }
        .prose li {
            margin-bottom: 0.25rem;
        }
        .prose table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }
        .prose th, .prose td {
            border: 1px solid #e5e7eb;
            padding: 0.5rem;
            text-align: left;
        }
        .prose th {
            background-color: #f9fafb;
            font-weight: 600;
        }
    </style>
</body>
</html>