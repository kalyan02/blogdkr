<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All Posts - {{.SiteTitle}}</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'mono': ['JetBrains Mono', 'monospace'],
                    }
                }
            }
        }
    </script>
</head>
<body class="font-mono bg-white min-h-screen">
    <!-- Navigation Bar -->
    <div class="py-1 border-b-0 border-gray-100">
        <div class="max-w-7xl mx-auto px-2 pt-2 flex flex-col lg:flex-row items-center justify-between gap-2 lg:gap-0">
            <!-- Left: Site Title -->
            <div class="flex gap-1 flex-wrap justify-center lg:justify-start">
                <a href="/" class="text-gray-900 text-sm font-semibold px-1 py-1 rounded hover:bg-gray-100 transition-colors">
                    {{.SiteTitle}}
                </a>
            </div>

            <!-- Right: Navigation Links -->
            <div class="flex gap-1 justify-center">
                <a href="/" class="text-gray-600 text-xs px-2 py-1 rounded hover:bg-gray-100 hover:text-gray-900 transition-colors">
                    Home
                </a>
                <a href="/about" class="text-gray-600 text-xs px-2 py-1 rounded hover:bg-gray-100 hover:text-gray-900 transition-colors">
                    About
                </a>
                <a href="/posts" class="bg-blue-600 text-white text-xs px-2 py-1 rounded hover:bg-blue-700 transition-colors">
                    Posts
                </a>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="max-w-7xl mx-auto px-4 py-8">
        <!-- Page Header -->
        <header class="mb-12">
            <h1 class="text-2xl font-bold text-gray-900 mb-4">All Posts</h1>
            <p class="text-sm text-gray-600">
                {{if .PostCount}}
                {{.PostCount}} posts total
                {{else}}
                All my thoughts, ideas, and discoveries.
                {{end}}
            </p>
        </header>

        <!-- Posts Grid/List -->
        <div class="space-y-8">
            {{range .PostsByYear}}
            <!-- Year Group -->
            <section>
                <h2 class="text-lg font-semibold text-gray-900 mb-6 pb-2 border-b border-gray-200 uppercase tracking-wider">
                    {{.Year}}
                </h2>
                
                <div class="space-y-6">
                    {{range .Posts}}
                    <article class="group">
                        <div class="flex flex-col lg:flex-row lg:items-start lg:justify-between gap-2 mb-2">
                            <div class="flex-1">
                                <h3 class="text-base font-semibold text-gray-900 mb-1">
                                    <a href="/{{.Slug}}" class="hover:text-blue-600 transition-colors group-hover:text-blue-600">
                                        {{.Title}}
                                    </a>
                                </h3>
                                {{if .Summary}}
                                <p class="text-sm text-gray-600 leading-relaxed mb-2">
                                    {{.Summary}}
                                </p>
                                {{end}}
                                {{if .Tags}}
                                <div class="flex flex-wrap gap-1 mb-2">
                                    {{range .Tags}}
                                    <a href="/tags/{{.}}" class="text-xs px-2 py-1 bg-gray-100 text-gray-600 rounded hover:bg-gray-200 transition-colors">
                                        {{.}}
                                    </a>
                                    {{end}}
                                </div>
                                {{end}}
                            </div>
                            <div class="flex flex-col lg:items-end gap-1">
                                <time class="text-xs text-gray-500 uppercase tracking-wider">
                                    {{.Date.Format "Jan 02"}}
                                </time>
                                {{if .ReadingTime}}
                                <span class="text-xs text-gray-400">{{.ReadingTime}}m</span>
                                {{end}}
                            </div>
                        </div>
                    </article>
                    {{end}}
                </div>
            </section>
            {{else}}
            <!-- No posts message -->
            <div class="text-center py-16">
                <p class="text-gray-500 text-sm mb-4">No posts published yet.</p>
                <a href="/" class="text-xs text-blue-600 hover:text-blue-800 uppercase tracking-wider">
                    ‚Üê Back to Home
                </a>
            </div>
            {{end}}
        </div>

        <!-- Tags Section -->
        {{if .AllTags}}
        <section class="mt-16 pt-8 border-t border-gray-100">
            <h3 class="text-sm font-semibold text-gray-900 mb-4 uppercase tracking-wider">All Tags</h3>
            <div class="flex flex-wrap gap-2">
                {{range .AllTags}}
                <a href="/tags/{{.Name}}" class="text-xs px-3 py-1 bg-gray-100 text-gray-600 rounded-full hover:bg-gray-200 transition-colors">
                    {{.Name}} <span class="text-gray-400">({{.Count}})</span>
                </a>
                {{end}}
            </div>
        </section>
        {{end}}

        <!-- Archive Navigation -->
        {{if .Archives}}
        <section class="mt-12 pt-8 border-t border-gray-100">
            <h3 class="text-sm font-semibold text-gray-900 mb-4 uppercase tracking-wider">Archive</h3>
            <div class="flex flex-wrap gap-3">
                {{range .Archives}}
                <a href="/archive/{{.Year}}" class="text-xs text-gray-600 hover:text-gray-900 transition-colors">
                    {{.Year}} <span class="text-gray-400">({{.Count}})</span>
                </a>
                {{end}}
            </div>
        </section>
        {{end}}

        <!-- Footer -->
        <div class="mt-16 pt-8 border-t border-gray-100 text-center">
            <p class="text-xs text-gray-500">
                Powered by <a href="https://github.com/your-repo/oddity" class="hover:text-gray-700">Oddity</a>
            </p>
        </div>
    </div>

    <style>
        /* Hover effects for post items */
        .group:hover {
            transform: translateX(2px);
            transition: transform 0.2s ease-out;
        }
        
        /* Tag hover effects */
        a[href^="/tags/"]:hover {
            transform: scale(1.05);
            transition: transform 0.15s ease-out;
        }

        /* Year section styling */
        section h2 {
            position: sticky;
            top: 0;
            background: white;
            z-index: 10;
            padding: 0.5rem 0;
        }

        /* Reading progress indicator could go here */
        @media (min-width: 1024px) {
            .group {
                padding: 0.5rem;
                border-radius: 0.375rem;
                margin: -0.5rem;
            }
            .group:hover {
                background-color: #f9fafb;
            }
        }
    </style>
</body>
</html>